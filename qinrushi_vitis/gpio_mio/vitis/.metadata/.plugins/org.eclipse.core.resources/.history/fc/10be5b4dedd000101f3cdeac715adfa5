 #include "xparameters.h" //器件参数信息
 #include "xstatus.h" //包含 XST_FAILURE 和 XST_SUCCESS 的宏定义
 #include "xil_printf.h" //包含 print()函数
 #include "xgpiops.h" //包含 PS GPIO 的函数
 #include "sleep.h" //包含 sleep()函数

 //宏定义 GPIO_DEVICE_ID
 #define GPIO_DEVICE_ID XPAR_XGPIOPS_0_DEVICE_ID
 //连接到 MIO 的 LED
 #define MIOLED0 7 //连接到 MIO7


 #define MIOLED1 8 //连接到 MIO8

 XGpioPs Gpio; // GPIO 设备的驱动程序实例

 int main()
 {
 int Status;
 XGpioPs_Config *ConfigPtr;

 print("MIO Test! \n\r");
 ConfigPtr = XGpioPs_LookupConfig(GPIO_DEVICE_ID);
 Status = XGpioPs_CfgInitialize(&Gpio, ConfigPtr,
 ConfigPtr->BaseAddr);
 if (Status != XST_SUCCESS){
 return XST_FAILURE;
 }
 //设置指定引脚的方向：0 输入，1 输出
 XGpioPs_SetDirectionPin(&Gpio, MIOLED0, 1);
 XGpioPs_SetDirectionPin(&Gpio, MIOLED1, 1);
 //使能指定引脚输出：0 禁止输出使能，1 使能输出
 XGpioPs_SetOutputEnablePin(&Gpio, MIOLED0, 1);
 XGpioPs_SetOutputEnablePin(&Gpio, MIOLED1, 1);

 while (1) {
 XGpioPs_WritePin(&Gpio, MIOLED0, 0x0); //向指定引脚写入数据：0 或 1
 XGpioPs_WritePin(&Gpio, MIOLED1, 0x0);
 sleep(1); //延时 1 秒
 XGpioPs_WritePin(&Gpio, MIOLED0, 0x1);
 XGpioPs_WritePin(&Gpio, MIOLED1, 0x1);
 sleep(1);
 }
 return XST_SUCCESS;
 }
