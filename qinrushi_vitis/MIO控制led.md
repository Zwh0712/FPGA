

GPIO 外设一般用于控制一些简单的外设，如 LED 和蜂鸣器，此时 GPIO 用作输出；也可以用于观测一些简单外设的状态，如按键，此时 GPIO 用作输入。



GPIO 可以通过 MIO 连接到 PS 端的引脚，也可以通过 EMIO 连接到 PL。本章将介绍如何使用 GPIO 外设通过 MIO 控制 PS 端。



![tu2](D:\FPGA\FPGA\qinrushi_vitis\vitis_photo\tu2.png)



​	DATA_RO 是数据只读寄存器，通过该寄存器能够观察器件引脚上的值。如果 GPIO 信号配置为输出， 则通常会反映输出上驱动的值，写入此寄存器将被忽略。 

​	DATA 是数据寄存器，该寄存器控制 GPIO 信号配置为输出时要输出的值。该寄存器的所有 32 位都是 一次写入的。读取该寄存器返回写入 DATA 或 MASK_DATA_ {LSW，MSW}的先前值，它不会返回器件引 脚上的当前值。 MASK_DATA_LSW 和 MASK_DATA_MSW 是数据掩码寄存器，该寄存器使软件能够有选择地一次更 改所需的输出值。可以写入最多 16 位的任意组合，MASK_DATA_LSW 控制 Bank 的低 16 位， MASK_DATA_MSW 控制高 16 位。未写入的那些位保持不变并保持其先前的值。读取该寄存器返回写入 DATA 或 MASK_DATA_ {LSW，MSW}的先前值;它不会返回器件引脚上的当前值。该寄存器避免了对未更 改位的读-修改-写序列的需要。

​	 DIRM 是方向模式寄存器，用于控制 I/O 引脚是用作输入还是输出。当 DIRM [x] == 0 时，输出驱动器 被禁用，该引脚作为输入引脚使用。

​	 OEN 是输出使能寄存器。将 I/O 配置为输出时，该寄存器控制是否启用输出。禁用输出时，引脚为 3 态。当 OEN [x] == 0 时，输出被禁用。